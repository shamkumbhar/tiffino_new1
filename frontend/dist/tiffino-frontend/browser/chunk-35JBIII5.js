import{a as D}from"./chunk-KUCRKJY3.js";import{a as B}from"./chunk-HHIOAWEY.js";import"./chunk-NP6LRZ72.js";import{b as z,c as x,d as T,e as j,g as V,j as A,m as G,t as F,u as N,v as q}from"./chunk-D6ITGMSC.js";import{P as E,ba as k,ca as L,va as I}from"./chunk-XSLPIIJB.js";import{Eb as r,Fb as P,Nb as y,Sa as a,Ta as f,ea as v,hb as g,lb as l,oa as w,pa as C,pb as e,qa as m,qb as t,qc as O,ra as _,rb as s,sc as S,ub as M,wb as u,xb as h}from"./chunk-IJRFTPMA.js";function H(n,p){n&1&&(e(0,"div",33),s(1,"img",34),e(2,"p"),r(3,"Login Successful!"),t()())}function U(n,p){n&1&&(e(0,"p"),r(1,"Email is required"),t())}function W(n,p){n&1&&(e(0,"p"),r(1,"Enter a valid email"),t())}function J(n,p){n&1&&(e(0,"p"),r(1,"Email already exists."),t())}function Y(n,p){if(n&1&&(e(0,"div",35),g(1,U,2,0,"p",36)(2,W,2,0,"p",36)(3,J,2,0,"p",36),t()),n&2){let o=h();a(),l("ngIf",o.f.Email.errors==null?null:o.f.Email.errors.required),a(),l("ngIf",o.f.Email.errors==null?null:o.f.Email.errors.email),a(),l("ngIf",o.f.Email.errors==null?null:o.f.Email.errors.emailExists)}}function Z(n,p){n&1&&(e(0,"p"),r(1,"Password is required"),t())}function K(n,p){if(n&1&&(e(0,"div",35),g(1,Z,2,0,"p",36),t()),n&2){let o=h();a(),l("ngIf",o.f.password.errors==null?null:o.f.password.errors.required)}}function Q(n,p){n&1&&(m(),e(0,"svg",37),s(1,"path",38),t())}function X(n,p){n&1&&(m(),e(0,"svg",39),s(1,"path",40),t())}function $(n,p){n&1&&(e(0,"div",41)(1,"div",42),s(2,"div",43),t()())}function ee(n,p){if(n&1){let o=M();e(0,"div",44)(1,"div",45)(2,"div",46),m(),e(3,"svg",47),s(4,"path",48),t()(),_(),e(5,"h4",49),r(6,"Invalid Email or Password"),t(),e(7,"p",50),r(8),t(),e(9,"button",51),u("click",function(){w(o);let i=h();return C(i.showErrorPopup=!1)}),r(10,"Close"),t()()()}if(n&2){let o=h();a(8),P(o.errorMessage)}}var ce=(()=>{class n{constructor(o,d,i,c,b){this.fb=o,this.registerservice=d,this.router=i,this.activated=c,this.otpService=b,this.returnurl="",this.errorMessage="",this.showErrorPopup=!1,this.isLoading=!1,this.showpopup=!1,this.showPassword=!1}ngOnInit(){this.loginForm=this.fb.group({Email:["",[x.required,x.email]],password:["",[x.required,x.maxLength(20)]]}),this.returnurl=this.activated.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){if(this.errorMessage="",this.showErrorPopup=!1,this.loginForm.valid){let o=this.loginForm.value,d={email:o.Email,password:o.password};this.isLoading=!0;let i=Date.now();this.registerservice.login(d).subscribe({next:c=>{let b=Date.now()-i,R=Math.max(9e3-b,0);this.data=c,setTimeout(()=>{this.data=c,localStorage.setItem("profile",JSON.stringify(c)),this.isLoading=!1,this.showpopup=!0,setTimeout(()=>{this.showpopup=!1,this.router.navigate(["/"])},3e3)},R)},error:c=>{this.isLoading=!1,this.errorMessage=c?.error?.message||"Login failed Please Try Again",this.showErrorPopup=!0}})}}continueWithGoogle(){window.location.href="http://localhost:8890/users/oauth2/authorize"}static{this.\u0275fac=function(d){return new(d||n)(f(F),f(B),f(k),f(E),f(D))}}static{this.\u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[y],decls:46,vars:10,consts:[[1,"back"],[1,"login-wrapper"],[1,"login-image"],["src","https://thumbs.dreamstime.com/b/sign-page-abstract-concept-vector-illustration-enter-application-mobile-screen-user-login-form-website-interface-ui-new-profile-198851755.jpg","alt","Login Illustration"],[1,"login-container"],[1,"logi"],[3,"ngSubmit","formGroup"],["class","login-success",4,"ngIf"],["for","Email",1,"text-dark"],["class","error",4,"ngIf"],[1,"phone-input-group","mb-3","mt-1"],[1,"country-code"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"],["type","email","formControlName","Email","placeholder","Email Address"],["for","password",1,"text-dark"],[1,"phonenum-input-group","mb-3","mt-1","position-relative"],[1,"countrynum-code","w-100","d-flex"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock"],["fill-rule","evenodd","d","M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4M4.5 7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7zM8 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3"],["type","button","aria-label","Toggle password visibility",1,"toggle-password-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","class","bi bi-eye","viewBox","0 0 16 16",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","class","bi bi-eye-slash","viewBox","0 0 16 16",4,"ngIf"],["id","password","formControlName","password","placeholder","Enter password",1,"form-control",3,"type"],["routerLink","/changepassword"],[1,"custom-btn","primary-continue",3,"disabled"],[1,"divider"],[1,"custom-btn","google-signin-btn",3,"click"],["src","./assets/icons8.png","alt","Google","width","20","height","20"],[1,"signup-prompt"],["routerLink","/register"],["class","spinner-overlay",4,"ngIf"],["class","error-overlay",4,"ngIf"],[1,"login-success"],["src","assets/images/check.png","alt","imgsri",2,"width","40px","height","40px"],[1,"error"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye"],["d","M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zm-8 4a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-slash"],["d","M13.359 11.238l1.397 1.398-1.06 1.06-1.398-1.397a8.717 8.717 0 0 1-4.298 1.2c-5 0-8-5.5-8-5.5a16.532 16.532 0 0 1 3.22-3.377L1.146 1.146l1.06-1.06 13.708 13.708-1.06 1.06-1.495-1.495zM11.84 10.05l-1.59-1.59A2.5 2.5 0 0 1 8 10.5a2.5 2.5 0 0 1-2.25-1.37l-1.53-1.53c.208-.266.444-.53.703-.778L3.72 4.97A14.693 14.693 0 0 0 1.684 8c.622.832 2.27 2.687 4.94 2.966a7.72 7.72 0 0 0 5.217-1.06zm.95-2.72a5.923 5.923 0 0 0-.922-1.08L9.92 4.88c.246-.07.5-.124.76-.156C12.117 5.15 13.504 6.765 14.316 8c-.238.376-.517.775-.827 1.18z"],[1,"spinner-overlay"],[1,"hexagon-bg"],[1,"spinner"],[1,"error-overlay"],[1,"error-card","shadow-lg","p-4","bg-white","rounded-4","text-center"],[1,"error-icon","mb-3"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","fill","#dc3545","viewBox","0 0 16 16",1,"bi","bi-x-circle"],["d","M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"text-danger","fw-bold"],[1,"text-muted","mt-2","mb-3","text-dark"],[1,"btn","btn-outline-danger","px-4",3,"click"]],template:function(d,i){d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),s(3,"img",3),t(),e(4,"div",4)(5,"h2",5),r(6,"Login"),t(),e(7,"form",6),u("ngSubmit",function(){return i.onSubmit()}),g(8,H,4,0,"div",7),e(9,"label",8),r(10,"Email:"),t(),g(11,Y,4,3,"div",9),e(12,"div",10)(13,"div",11),m(),e(14,"svg",12),s(15,"path",13),t(),_(),s(16,"input",14),t()(),e(17,"label",15),r(18,"Password:"),t(),g(19,K,2,1,"div",9),e(20,"div",16)(21,"div",17),m(),e(22,"svg",18),s(23,"path",19),t(),_(),e(24,"button",20),u("click",function(){return i.togglePasswordVisibility()}),g(25,Q,2,0,"svg",21)(26,X,2,0,"svg",22),t(),s(27,"input",23),t()(),e(28,"a",24),r(29,"Forgot Password"),t(),e(30,"button",25),r(31,` Continue
`),t()(),e(32,"div",26)(33,"span"),r(34,"Or"),t()(),e(35,"button",27),u("click",function(){return i.continueWithGoogle()}),s(36,"img",28),r(37,` Continue with Google
`),t(),e(38,"div",29)(39,"p"),r(40,"New to Tiffino?"),t(),e(41,"p")(42,"a",30),r(43,"Create Account"),t()()()()()(),g(44,$,3,0,"div",31)(45,ee,11,1,"div",32)),d&2&&(a(7),l("formGroup",i.loginForm),a(),l("ngIf",i.showpopup),a(3),l("ngIf",i.f.Email.touched&&i.f.Email.invalid),a(8),l("ngIf",i.f.password.touched&&i.f.password.invalid),a(6),l("ngIf",!i.showPassword),a(),l("ngIf",i.showPassword),a(),l("type",i.showPassword?"text":"password"),a(3),l("disabled",i.isLoading),a(14),l("ngIf",i.isLoading),a(),l("ngIf",i.showErrorPopup))},dependencies:[S,O,q,V,z,T,j,A,G,I,L,N],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:40px auto 100px;background:linear-gradient(135deg,#fdfbfb,#ebedee);border-radius:12px;box-shadow:0 6px 24px #00000014;overflow:hidden}.login-image[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.login-container[_ngcontent-%COMP%]{flex:1;padding:40px;font-family:Segoe UI,sans-serif;background:#fff}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#e23744;margin-bottom:20px;text-align:center}.phone-input-group[_ngcontent-%COMP%], .phonenum-input-group[_ngcontent-%COMP%]{display:flex;align-items:stretch;border:1px solid #ccc;border-radius:8px;overflow:hidden;max-width:100%}.country-code[_ngcontent-%COMP%], .countrynum-code[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9;padding:0 12px;gap:8px;width:100%}.phone-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .phonenum-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:14px 44px 14px 12px;font-size:15px;flex:1;outline:none;background:transparent}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font-size:13px;margin:0 0 6px 4px}button[_ngcontent-%COMP%]:disabled{background-color:#de626a;cursor:not-allowed}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#000;font-size:14px;font-weight:500;margin:24px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:2px solid #181616}.divider[_ngcontent-%COMP%]:not(:empty):before{margin-right:10px}.divider[_ngcontent-%COMP%]:not(:empty):after{margin-left:10px}.signup-prompt[_ngcontent-%COMP%]{font-size:16px;margin:10px 0 7px;display:flex;justify-content:center}.signup-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:bolder;margin:0 0 5px}.signup-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e23744;text-decoration:none;font-weight:bolder;font-size:20px}.signup-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.back[_ngcontent-%COMP%]{background-image:url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSV626dapoOfdh9DwzqOmITjUG9v-zBW9Zozw&s);background-repeat:no-repeat;background-size:cover;background-position:center;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}[_nghost-%COMP%]{display:block;height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{flex-direction:column}.login-image[_ngcontent-%COMP%]{height:200px}.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:0}}.login-success[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#e8f5e9;color:#2e7d32;padding:15px 20px;border-radius:8px;font-family:Arial,sans-serif;font-size:18px;box-shadow:0 2px 8px #0000001a;margin-top:20px;margin-right:30px}.tick-icon[_ngcontent-%COMP%]{margin-right:10px}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;display:flex;justify-content:center;align-items:center;z-index:999}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:6px solid #ccccccc4;border-top-color:#0616cc;border-radius:50%;animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.hexagon-bg[_ngcontent-%COMP%]{position:relative;width:80px;height:48.19px;background-color:#fff;display:flex;justify-content:center;align-items:center}.hexagon-bg[_ngcontent-%COMP%]:before, .hexagon-bg[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;border-left:40px solid transparent;border-right:40px solid transparent}.hexagon-bg[_ngcontent-%COMP%]:before{bottom:100%;border-bottom:20.09px solid #ffffff}.hexagon-bg[_ngcontent-%COMP%]:after{top:100%;border-top:23.09px solid #ffffff}.error-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0006;display:flex;justify-content:center;align-items:center;z-index:1055}.error-card[_ngcontent-%COMP%]{width:90%;max-width:420px;animation:_ngcontent-%COMP%_fadeInScale .3s ease-in-out}.error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}.phonenum-input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;border:1px solid #ccc;border-radius:8px;overflow:hidden}.phonenum-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:14px 44px 14px 12px;font-size:15px;border:none;outline:none;flex:1}.toggle-password-btn[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(-50%);background:none;border:none;cursor:pointer;z-index:2;padding:0}.toggle-password-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#666}.custom-btn[_ngcontent-%COMP%]{width:100%;max-width:600px;display:flex;align-items:center;justify-content:center;gap:12px;padding:14px 20px;font-size:16px;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:background-color .3s ease;box-sizing:border-box;text-align:center}.primary-continue[_ngcontent-%COMP%]{background-color:#e23744;color:#fff}.primary-continue[_ngcontent-%COMP%]:hover{background-color:#c22c3a}.email-auth[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid #ddd;width:100%}.email-auth[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.google-signin-btn[_ngcontent-%COMP%]{margin-top:10px;background-color:#fff;color:#444;border:1px solid #ddd;box-shadow:0 2px 4px #0000000f}.google-signin-btn[_ngcontent-%COMP%]:hover{background-color:#0a0b0c;color:#fff}.google-signin-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;object-fit:contain}']})}}return n})();export{ce as LoginComponent};
