import{a as c}from"./chunk-NP6LRZ72.js";import{b as n}from"./chunk-XSLPIIJB.js";import{U as s,Z as a,bb as h,k as r}from"./chunk-IJRFTPMA.js";var $=(()=>{class i{constructor(t){this.http=t,this.searchTermSubject=new r(""),this.searchTerm$=this.searchTermSubject.asObservable(),this._cartLength=h(0),this.cartLength=this._cartLength.asReadonly(),this.apiUrl=c.cuisines}setSearchTerm(t){this.searchTermSubject.next(t)}setCartLength(t){this._cartLength.set(t)}allcusines(){return this.http.get(`${this.apiUrl}/cuisines/getall`)}cusinesbyid(t){return this.http.get(`${this.apiUrl}/cuisines/${t}`)}addCuisine(t){return this.http.post(`${this.apiUrl}/cuisines/`,t)}deletecusinebyid(t){return this.http.delete(`${this.apiUrl}/cuisines/${t}`)}getAllRegions(){return this.http.get(`${this.apiUrl}/regions/getall`)}getStatesByRegion(t){return this.http.get(`${this.apiUrl}/states/region/${t}`)}getCuisinesByState(t){return this.http.get(`${this.apiUrl}/cuisines/state/${t}`)}getAllStates(){return this.http.get(`${this.apiUrl}/states/getall`)}addToCart(t,e,p=1){return this.http.post(`${this.apiUrl}/cart/add`,{userId:t,cuisine_id:e,quantity:p})}updateCartLengthFromServer(t){this.getCart(t).subscribe(e=>{this.setCartLength(e.length)})}getCart(t){return this.http.get(`${this.apiUrl}/cart/${t}`)}updateItem(t,e){return this.http.put(`${this.apiUrl}/cart/update/${t}?quantity=${e}`,{})}removeItem(t){return this.http.delete(`${this.apiUrl}/cart/remove/${t}`)}clearCart(t){return Promise.all(t.map(e=>this.removeItem(e.itemId).toPromise()))}static{this.\u0275fac=function(e){return new(e||i)(a(n))}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{$ as a};
